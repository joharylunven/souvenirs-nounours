<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joyeux No√´l Margot !</title>
    <link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@700&family=Nunito:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        :root { --christmas-red: #8b0000; --gold: #fdf5e6; }
        body {
            margin: 0; padding: 0;
            background-color: var(--christmas-red);
            background-image: linear-gradient(180deg, #5c0e0e 0%, #8b0000 100%);
            color: var(--gold);
            font-family: 'Nunito', sans-serif;
            min-height: 100vh;
        }
        .snowflake {
            position: fixed; top: -10px; color: #FFF; font-size: 1em; z-index: 9999;
            animation-name: snowflakes-fall, snowflakes-shake;
            animation-duration: 10s, 3s;
            animation-iteration-count: infinite;
            animation-play-state: running;
        }
        @keyframes snowflakes-fall { 0% { top: -10%; } 100% { top: 100%; } }
        @keyframes snowflakes-shake { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(80px); } }
        
        header { text-align: center; padding: 60px 20px; }
        h1 { font-family: 'Mountains of Christmas', cursive; font-size: 4rem; margin: 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        p.subtitle { font-size: 1.5rem; margin-top: 10px; font-style: italic; }

        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
        
        .photo-card {
            background: white; padding: 10px 10px 30px 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            transition: transform 0.3s; cursor: pointer;
        }
        .photo-card:hover { transform: scale(1.05) rotate(2deg); z-index: 10; }
        .photo-card img { width: 100%; height: 250px; object-fit: cover; border: 1px solid #ddd; }

        /* Pour debug : si image cass√©e */
        .photo-card img:after { content: "‚ö†Ô∏è Image introuvable"; display: block; color: red; font-size: 12px; }

        .lightbox { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.9); justify-content: center; align-items: center; }
        .lightbox-content { max-width: 90%; max-height: 80vh; border: 5px solid white; }
        .close { position: absolute; top: 20px; right: 35px; color: #f1f1f1; font-size: 40px; cursor: pointer; }
        
        footer { text-align: center; padding: 40px; opacity: 0.7; }
    </style>
</head>
<body>
    <div class="snowflakes" aria-hidden="true">
        <div class="snowflake">‚ùÖ</div><div class="snowflake">‚ùÜ</div><div class="snowflake">‚ùÖ</div>
        <div class="snowflake">‚ùÜ</div><div class="snowflake">‚ùÖ</div><div class="snowflake">‚ùÜ</div>
    </div>

    <header>
        <h1>Joyeux No√´l Margot !</h1>
        <p class="subtitle">Voici les souvenirs de nounours üß∏</p>
    </header>

    <div class="container">
        <div class="gallery" id="gallery"></div>
    </div>

    <footer><p>Fait avec ‚ù§Ô∏è pour No√´l</p></footer>

    <div id="myLightbox" class="lightbox">
        <span class="close">&times;</span>
        <img class="lightbox-content" id="img01">
    </div>

    <script>
        const gallery = document.getElementById('gallery');
        const lightbox = document.getElementById('myLightbox');
        const lightboxImg = document.getElementById("img01");
        const closeBtn = document.getElementsByClassName("close")[0];

        // NOMBRE DE PHOTOS : Change ce chiffre si tu en as plus ou moins !
        // Si tu as renomm√© en photo1.jpg ... photo66.jpg
        const totalPhotos = 66; 

        for (let i = 1; i <= totalPhotos; i++) {
            const filename = `photo${i}.jpg`; // Suppose que tu as renomm√© les fichiers

            const card = document.createElement('div');
            card.className = 'photo-card';
            card.style.transform = `rotate(${Math.floor(Math.random() * 6) - 3}deg)`;

            const img = document.createElement('img');
            img.src = `image/${filename}`; 
            img.alt = "Souvenir";
            img.loading = "lazy";

            // Si √ßa ne marche pas, on affiche le nom du fichier qui pose probl√®me
            img.onerror = function() {
                console.log("Erreur sur : " + filename);
                // On n'efface plus la carte pour que tu voies l'erreur
                this.alt = "Fichier manquant : " + filename;
            };

            card.onclick = function() {
                lightbox.style.display = "flex";
                lightboxImg.src = img.src;
            };

            card.appendChild(img);
            gallery.appendChild(card);
        }

        closeBtn.onclick = function() { lightbox.style.display = "none"; }
        lightbox.onclick = function(e) { if (e.target === lightbox) lightbox.style.display = "none"; }
    </script>
</body>
</html>